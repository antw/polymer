#!/usr/bin/env ruby

unless $:.include?(File.dirname(__FILE__) + '/../lib')
  $:.unshift(File.dirname(__FILE__) + '/../lib')
end

require 'optparse'
require 'rubygems' unless ENV['NORUBYGEMS']

require 'flexo'
require 'flexo/commands'

require 'highline/import'

module Kernel
  def_delegators :$terminal, :color
end

args = Flexo::Commands.parse_options!(ARGV.dup)
puts

case ARGV[0]
  when 'init'
    require 'flexo/commands/init'
    Flexo::Commands::Init.run(args)
  else
    require 'flexo/commands/generate'
    Flexo::Commands::Generate.run(args)
end
